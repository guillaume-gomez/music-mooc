<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Week 1 Challenge</title>
</head>
  <body>
      <div
      style="background:black;height:100%;color:white"
      onmousemove="changeFrequency(event)"
      tabIndex="1"
      onkeydown="connectToKeyboard(event)">
      <h1>Welcome to the first<br>
      programming exercise</h1>
      <ul>
          <li>Login and fork this code first!</li>
          <li>Edit the code at the top in onmousemove<br>
          so that it also changes the frequency of the 'osc'<br>
          oscillator. It should use the mouse Y position. </li>
          <li>Challenge: can you combine it with the <br>
          keyboard controlled synth example? 
          </li>
          <li>Done? back to the course!</li>
      </ul>
      </div>
  </body>
  <script>
    var audio_context = window.AudioContext || window.webkitAudioContext;

    var con = new audio_context();

    var osc = con.createOscillator();
    var lfo = con.createOscillator();

    var lfo_amp = con.createGain();
    lfo_amp.gain.value = 200;

    osc.frequency.value = 300;
    lfo.frequency.value = 15;

    lfo.connect(lfo_amp);
    lfo_amp.connect(osc.frequency);
    osc.connect(con.destination);

    osc.start();
    lfo.start();

    function changeFrequency(event) {
      lfo.frequency.value = event.clientX;
      osc.frequency.value = event.clientY;
    }

    function connectToKeyboard(event) {
      switch(event.key) {
        case "z":
          osc.frequency.value = 261.63;
        break;
        case "x":
          osc.frequency.value = 293.66;
        break;
        case "c":
          osc.frequency.value = 329.63;
        break;
        case "v":
          osc.frequency.value = 349.23;
        break;
    }
  }

  </script>
</html>